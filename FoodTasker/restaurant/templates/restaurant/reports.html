{% extends 'base/base.html' %}
 
 
{% block page_content %}
 
<div class="row">
  
  <div class="col-md-12">
    <div class="row">

        <div class="col-md-4">
        <!-- TOP 3 Meals -->
            <div class="card pie-chart">
                <div class="card-header bg-blue">
                <h4 class="card-title text-center text-white">
                    Top 3 Meals
                </h4>
                </div>
                <div class="card-body">
                    <canvas id="mealChart" height="242"></canvas>
                    <script>
                        var ctx = document.getElementById("mealChart").getContext("2d");
                        var data = {
                            labels: {{ meal.labels|safe }},
                            datasets: [
                                {
                                    backgroundColor: [
                                    "#36A2EB", "#FFCE56", "#FF6384"
                                    ],
                                    data: {{ meal.data }}
                                }
                            ]
                        };

                        new Chart(ctx, {
                        type: 'pie',
                        data: data
                        });

                    </script>
                </div>
            </div> 
        </div> 
        <div class="col-md-4">
        <!-- TOP 3 Driver ALL TIME -->
            <div class="card pie-chart">
                <div class="card-header bg-blue">
                <h4 class="card-title text-center text-white">
                    Top 3 Drivers
                </h4>
                </div>
                <div class="card-body">
                    <canvas id="driverChart" height="242"></canvas>
                    <script>
                        var ctx = document.getElementById("driverChart").getContext("2d");
                        var data = {
                            labels: {{ driver.labels|safe }},
                            datasets: [
                                {
                                    backgroundColor: [
                                    "#36A2EB", "#FFCE56", "#FF6384"
                                    ],
                                    data: {{ driver.data }}
                                }
                            ]
                        };

                        new Chart(ctx, {
                        type: 'pie',
                        data: data
                        });

                    </script>
                </div>
            </div>
        </div> 

        <div class="col-md-4">             
        <!-- TOP 3 Customers ALL TIME -->
            <div class="card pie-chart">
                <div class="card-header bg-blue">
                    <h4 class="card-title text-center text-white">
                        Top 3 Customers
                    </h4>
                </div>
                <div class="card-body">
                    <canvas id="customerChart" height="242"></canvas>
                    <script>
                        var ctx = document.getElementById("customerChart").getContext("2d");
                        var data = {
                            labels: {{ customer.labels|safe }},
                            datasets: [
                                {
                                    backgroundColor: [
                                        "#36A2EB", "#FFCE56", "#FF6384"
                                    ],
                                    data: {{customer.data }}
                                }
                            ]
                        };   

                        new Chart(ctx, {
                            type: 'pie',
                            data: data
                        });

                    </script>
                </div><!-- card-body -->    
            </div><!-- card -->
        </div><!-- col-lg-4 -->
    </div><!-- row -->

  </div><!-- col-lg-12 -->

  <div class="col-lg-12">
    <!-- Revenue by Week -->
    <div class="card mt-3">
      <div class="card-header bg-blue">
        <h4 class="card-title text-center text-white">
          Revenue by Week
        </h4>
      </div>
      <div class="card-body">
        <canvas id="revenueChart" height="110"></canvas>
        <script>
          var ctx = document.getElementById("revenueChart").getContext("2d");
          var data = {
              labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
              datasets: [
                  {
                      label: "Revenue by Week",
                      backgroundColor: "rgba(54,162,235,0.9)",
                      hoverBackgroundColor: "rgba(54,162,235,1)",
                      data: {{ revenue }}
                  }
              ]
          };

          new Chart(ctx, {
            type: 'bar',
            data: data
          });
        </script>
      </div>
    </div>

    <!-- Orders by Week -->
    <div class="card mt-3">
      <div class="card-header bg-blue">
        <h4 class="card-title text-center text-white">
          Order by Week
        </h4>
      </div>
      <div class="card-body">
        <canvas id="orderChart" height="110"></canvas>
        <script>
          var ctx = document.getElementById("orderChart").getContext("2d");
          var data = {
              labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
              datasets: [
                  {
                      label: "Number of orders by Week",
                      backgroundColor: "rgba(255,99,132,0.9)",
                      hoverBackgroundColor: "rgba(255,99,132,1)",
                      data: {{ orders }}
                  }
              ]
          };

          new Chart(ctx, {
            type: 'bar',
            data: data
          });
        </script>
      </div>
    </div>
  </div>
  
</div>
 
{% endblock %}
 
 